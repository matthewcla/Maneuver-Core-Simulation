{"mappings":"AAAA,uCAAuC;AACvC,IAAI,mBAAmB,WACrB,OAAO,gBAAgB,CAAC,QAAQ;IAC9B,UAAU,aAAa,CAAC,QAAQ,CAAC,IAAI,IAAI,uBAAuB,OAAO,QAAQ,CAAC,IAAI;AACtF;AAGF;;;CAGC,GACD,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,WAAW,GAAG,SAAS,cAAc,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,SAAS,cAAc,CAAC;QAC5C,IAAI,CAAC,YAAY,GAAG,SAAS,cAAc,CAAC;QAE5C,eAAe;QACf,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI;QAC3D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI;QAEnD,IAAI,CAAC,gBAAgB;QACrB,IAAI,CAAC,eAAe;IACtB;IAEA,mBAAmB;QACjB,IAAI,CAAC,YAAY,EAAE,iBAAiB,SAAS,IAAI,CAAC,kBAAkB;QACpE,IAAI,CAAC,YAAY,EAAE,iBAAiB,SAAS,IAAI,CAAC,cAAc;IAClE;IAEA;;GAEC,GACD,kBAAkB;QAChB,MAAM,SAAS,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM;QACzD,MAAM,OAAO,OAAO,GAAG,CAAC;QAExB,IAAI,SAAS,aACX,IAAI,CAAC,kBAAkB;aAClB,IAAI,SAAS,cAClB,IAAI,CAAC,cAAc;IAEvB;IAEA,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC;IAC/B,6EAA6E;IAC/E;IAEA,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC;IACpC;IAEA,qBAAqB;QACnB,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,aAAa,CAAC;YAAE,MAAM;QAAY;IACzC;IAEA,iBAAiB;QACf,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,aAAa,CAAC;YAAE,MAAM;QAAa;IAC1C;IAEA,cAAc,MAAM,EAAE;QACpB,IAAI,OAAO,GAAG,EACZ,OAAO,GAAG,CAAC,OAAO;QAGpB,wDAAwD;QACxD,IAAI,SAAS,KAAK,IAAI,SAAS,KAAK,CAAC,KAAK,EACxC,SAAS,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;YACxB,OAAO,GAAG,GAAG,IAAI,UAAU;QAC7B;aAEA,OAAO,GAAG,GAAG,IAAI,UAAU;IAE/B;AACF;AAEA,iCAAiC;AACjC,SAAS,gBAAgB,CAAC,oBAAoB;IAC5C,6FAA6F;IAC7F,2DAA2D;IAE3D,OAAO,WAAW,GAAG,IAAI;AAEzB,yFAAyF;AACzF,oEAAoE;AACtE","sources":["js/main.js"],"sourcesContent":["// Register service worker if available\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', () => {\n    navigator.serviceWorker.register(new URL('./service-worker.js', window.location.href));\n  });\n}\n\n/**\n * @class GameManager\n * Handles high-level application state and mode selection.\n */\nclass GameManager {\n  constructor() {\n    this.menuOverlay = document.getElementById('main-menu');\n    this.btnSimulator = document.getElementById('btn-simulator');\n    this.btnGapRunner = document.getElementById('btn-gap-runner');\n\n    // Bind methods\n    this.startSimulatorMode = this.startSimulatorMode.bind(this);\n    this.startGapRunner = this.startGapRunner.bind(this);\n\n    this._attachListeners();\n    this._checkURLParams();\n  }\n\n  _attachListeners() {\n    this.btnSimulator?.addEventListener('click', this.startSimulatorMode);\n    this.btnGapRunner?.addEventListener('click', this.startGapRunner);\n  }\n\n  /**\n   * Checks for ?mode=X URL parameter to auto-start.\n   */\n  _checkURLParams() {\n    const params = new URLSearchParams(window.location.search);\n    const mode = params.get('mode');\n\n    if (mode === 'simulator') {\n      this.startSimulatorMode();\n    } else if (mode === 'gap_runner') {\n      this.startGapRunner();\n    }\n  }\n\n  hideMenu() {\n    this.menuOverlay.classList.add('hidden');\n    // Optional: remove from DOM sequence or visibility:hidden to avoid tab focus\n  }\n\n  showMenu() {\n    this.menuOverlay.classList.remove('hidden');\n  }\n\n  startSimulatorMode() {\n    this.hideMenu();\n    this.initSimulator({ mode: 'simulator' });\n  }\n\n  startGapRunner() {\n    this.hideMenu();\n    this.initSimulator({ mode: 'gap_runner' });\n  }\n\n  initSimulator(config) {\n    if (window.sim) {\n      window.sim.destroy();\n    }\n\n    // wait for font loading if likely needed, or just start\n    if (document.fonts && document.fonts.ready) {\n      document.fonts.ready.then(() => {\n        window.sim = new Simulator(config);\n      });\n    } else {\n      window.sim = new Simulator(config);\n    }\n  }\n}\n\n// Initialize on DOMContentLoaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  // If embedded or waiting for specific scripts (like existing logic checked window.TypeForm),\n  // adapt here. For this refactor, we assume direct control.\n\n  window.gameManager = new GameManager();\n\n  // Existing embeds logic from previous index.html code can be adapted if actually needed,\n  // but requirements suggest we control the entry via Main Menu now. \n});\n\n"],"names":[],"version":3,"file":"Maneuver-Core-Simulation.72be8890.js.map","sourceRoot":"/__parcel_source_root/"}